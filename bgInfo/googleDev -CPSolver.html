<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Employee Scheduling</title>
    <style>
        .devsite-header-no-upper-tabs .devsite-article-inner, .devsite-header-no-upper-tabs .devsite-main-content {
            min-height: calc(100vh - 526px);
        }
        .devsite-article-inner {
            float: left;
            width: 100%;
        }
        .devsite-article-inner, .devsite-main-content {
            min-height: calc(100vh - 582px);
        }
        .devsite-article-body {
            width: 80%;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        article, aside, footer, header, hgroup, main, nav, section {
            display: block;
        }
        body, html {
            color: #212121;
            font: 400 16px/24px Roboto,sans-serif;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
            margin: 0;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        .devsite-table-wrapper table {
            margin: 0;
        }
        table, table.google-visualization-table-table {
            border: 0;
            border-collapse: collapse;
            border-spacing: 0;
            font: 14px/20px Roboto,sans-serif;
            margin: 16px 0;
            width: 100%;
        }
        tr, table.google-visualization-table-table .google-visualization-table-tr-head, table.google-visualization-table-table .google-visualization-table-tr-even, table.google-visualization-table-table .google-visualization-table-tr-odd {
            background: #78909c;
            border: 0;
            border-top: 1px solid #cfd8dc;
        }
        td, table.responsive tr:not(.alt) td td:first-child, table.responsive td tr:not(.alt) td:first-child, table.google-visualization-table-table .google-visualization-table-td {
            background: rgba(255,255,255,.95);
            vertical-align: top;
        }
    </style>
</head>
<body>
    
    <article class="devsite-article-inner">
  
          
  


        <div class="devsite-rating-container
                    "><div class="devsite-rating-stars"><div class="devsite-rating-star gc-analytics-event material-icons devsite-rating-star-outline" data-rating-val="1" data-category="Site-Wide Custom Events" data-label="Star Rating 1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="Site content star ratings, rating 1 out of 5"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" data-category="Site-Wide Custom Events" data-label="Star Rating 2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="Site content star ratings, rating 2 out of 5"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" data-category="Site-Wide Custom Events" data-label="Star Rating 3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="Site content star ratings, rating 3 out of 5"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" data-category="Site-Wide Custom Events" data-label="Star Rating 4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="Site content star ratings, rating 4 out of 5"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" data-category="Site-Wide Custom Events" data-label="Star Rating 5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="Site content star ratings, rating 5 out of 5"></div></div><div class="devsite-rating-description"></div><div class="devsite-rating-internal"><span class="devsite-rating-stats"></span></div></div><script>
          $(document).ready(function() {
            devsite.ratings.init(
              document.querySelectorAll('#devsite-feedback-project'), false
              
            );
          });
        </script>
        
        
          
          <nav class="devsite-breadcrumb-nav devsite-nav">
            
        
        
        <ul class="devsite-breadcrumb-list">
          
          <li class="devsite-breadcrumb-item">
            
            
            <a href="https://developers.google.com/products/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1">
            
            
              Products
            
            
            </a>
            
          </li>
          
          <li class="devsite-breadcrumb-item">
            
            
            <div class="devsite-breadcrumb-guillemet material-icons"></div>
            
            
            <a href="https://developers.google.com/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2">
            
            
              Optimization
            
            
            </a>
            
          </li>
          
          <li class="devsite-breadcrumb-item">
            
            
            <div class="devsite-breadcrumb-guillemet material-icons"></div>
            
            
            <a href="https://developers.google.com/optimization/introduction/overview" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3">
            
            
              Guides
            
            
            </a>
            
          </li>
          
        </ul>
        
          </nav>
          
          
          <h1 itemprop="name" class="devsite-page-title">
            CP Solvers
          </h1>
          
          
          <nav class="devsite-page-nav-embedded devsite-nav"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="#top_of_page" class="devsite-nav-title"><span>Contents</span></a><button type="button" class="devsite-nav-show-all button-transparent material-icons" data-tooltip-align="b,c" data-tooltip="Expand/collapse contents" aria-label="Expand/collapse contents" data-title="Expand/collapse contents"></button></li><li class="devsite-nav-item"><a href="#cp-sat_example" class="devsite-nav-title"><span>The CP-SAT solver</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="#cp-sat-declare" class="devsite-nav-title"><span>Declare the solver</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_variables" class="devsite-nav-title"><span>Create the variables</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_constraints" class="devsite-nav-title"><span>Create the constraint</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_solution_printer" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the solution printer</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_solve" class="devsite-nav-title devsite-nav-item-hidden"><span>Call the solver</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_output" class="devsite-nav-title devsite-nav-item-hidden"><span>Results returned by the solver</span></a></li><li class="devsite-nav-item"><a href="#cp-sat_program" class="devsite-nav-title devsite-nav-item-hidden"><span>Complete code</span></a></li></ul></li><li class="devsite-nav-item"><a href="#original_cp_example" class="devsite-nav-title devsite-nav-item-hidden"><span>Original CP solver</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="#declare" class="devsite-nav-title devsite-nav-item-hidden"><span>Declare the solver</span></a></li><li class="devsite-nav-item"><a href="#variables" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the variables</span></a></li><li class="devsite-nav-item"><a href="#constraints" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the constraint</span></a></li><li class="devsite-nav-item"><a href="#solution_printer" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the solution printer</span></a></li><li class="devsite-nav-item"><a href="#solve" class="devsite-nav-title devsite-nav-item-hidden"><span>Call the solver</span></a></li><li class="devsite-nav-item"><a href="#output" class="devsite-nav-title devsite-nav-item-hidden"><span>Results returned by the solver</span></a></li><li class="devsite-nav-item"><a href="#program" class="devsite-nav-title devsite-nav-item-hidden"><span>Complete code</span></a></li><li class="devsite-nav-item"><a href="#db" class="devsite-nav-title devsite-nav-item-hidden"><span>Decision builder</span></a></li></ul></li><li class="devsite-nav-item"><button type="button" class="button-flat devsite-nav-more-items material-icons" aria-hidden="true" data-tooltip-align="b,c" data-tooltip="Expand/collapse contents" aria-label="Expand/collapse contents" data-title="Expand/collapse contents"></button></li></ul></nav>
          
          <div class="devsite-article-body clearfix
                    " itemprop="articleBody">
            
        
            <p>OR-Tools provides two solvers for constraint programming (CP):
            </p><ul>
              <li>The <a href="#cp-sat_example">CP-SAT solver</a>, which is
              our recommended CP solver for most purposes.</li>
              <li>The <a href="#original_cp_example">
              original CP solver</a>.
            </li></ul>
            <p>Note that the CP-SAT solver is faster than the original CP solver.</p>
        
        
            <h2 id="cp-sat_example"><a href="#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="Back to top" aria-label="Back to top" data-title="Back to top"></a>The CP-SAT solver</h2>
        
            <p>The CP-SAT solver is our recommended solver for constraint programming problems.
            We'll illustrate the CP-SAT solver
            using a simple example problem, in which there are:</p>
            <ul>
              <li>Three variables, x, y, and z, each of which can take on the values: 0, 1, or 2. </li>
              <li>One constraint: x ≠ y</li>
            </ul>
            <p>The problem is to find
            all assignments of values to the variables for which x ≠ y.</p>
            <p>The following sections describe a Python program that uses the CP-SAT solver to find
            all solutions for this example.</p>
        
            <h3 id="cp-sat-declare">Declare the solver</h3>
            <p>The following code declares the solver.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">sat</span><span class="pun">.</span><span class="pln">python </span><span class="kwd">import</span><span class="pln"> cp_model<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the model and solver.</span><span class="pln"><br>&nbsp; model </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="typ">CpModel</span><span class="pun">()</span><span class="pln"><br>&nbsp; solver </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="typ">CpSolver</span><span class="pun">()</span></pre>
        
            <p><code>cp_model</code> is a Python wrapper for the underlying C++ solver.
        
            </p><h3 id="cp-sat_variables">Create the variables</h3>
            <p>The following code creates the variables for the problem.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; num_vals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"><br>&nbsp; x </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">)</span><span class="pln"><br>&nbsp; y </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">)</span><span class="pln"><br>&nbsp; z </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">)</span></pre>
        
            <p>The solver creates three variables, x, y, and z, each of which can take on the values
            0, 1, or 2.</p>
        
            <h3 id="cp-sat_constraints">Create the constraint</h3>
            <p>The following code creates the constraint <i>x</i>≠<i>y</i>.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; model</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">x </span><span class="pun">!=</span><span class="pln"> y</span><span class="pun">)</span></pre>
        
            <h3 id="cp-sat_solution_printer">Create the solution printer</h3>
            <p>The CP-SAT solver displays the results using a <em>solution printer</em>.
            The following code creates the solution printer.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'\nNumber of solutions found: %i'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> solution_printer</span><span class="pun">.</span><span class="typ">SolutionCount</span><span class="pun">())</span><span class="pln"><br><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SolutionPrinter</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">.</span><span class="typ">CpSolverSolutionCallback</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Print intermediate solutions."""</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> __init__</span><span class="pun">(</span><span class="pln">self</span><span class="pun">,</span><span class="pln"> variables</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__variables </span><span class="pun">=</span><span class="pln"> variables<br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__solution_count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> </span><span class="typ">NewSolution</span><span class="pun">(</span><span class="pln">self</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__solution_count </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> v </span><span class="kwd">in</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">__variables</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'%s = %i'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="pun">(</span><span class="pln">v</span><span class="pun">,</span><span class="pln"> self</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)),</span><span class="pln"> end </span><span class="pun">=</span><span class="pln"> </span><span class="str">' '</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">()</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> </span><span class="typ">SolutionCount</span><span class="pun">(</span><span class="pln">self</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">__solution_count</span></pre>
            <p>The solution printer is a callback defined in a Python class. You
              pass the callback to the solver, as shown in the next section,
              and the callback is executed each time a new solution is found.</p>
        
            <h3 id="cp-sat_solve">Call the solver</h3>
            <p>The following code calls the solver.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; solution_printer </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SolutionPrinter</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">])</span><span class="pln"><br>&nbsp; status </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">SearchForAllSolutions</span><span class="pun">(</span><span class="pln">model</span><span class="pun">,</span><span class="pln"> solution_printer</span><span class="pun">)</span></pre>
        
            <p>The CP-SAT solver takes as inputs both the model and a callback that is executed each time a new
              solution is found. In this example, the callback is the solution printer.</p>
        
            <p>For any problem, the CP-SAT solver will return one of the following status values:</p>
            <div class="devsite-table-wrapper"><table>
              <tbody><tr>
                <th>Status</th>
                <th>Description</th>
              </tr>
              <tr>
                <td><code><span>OPTIMAL</span></code></td>
                <td>An optimal feasible solution was found.</td>
              </tr>
              <tr>
              </tr><tr>
                <td><code><span>FEASIBLE</span></code></td>
                <td>A feasible solution was found, but we don't know if it's optimal.</td>
              </tr>
              <tr>
                <td><code><span>INFEASIBLE</span></code></td>
                <td>The problem was proven infeasible.</td>
              </tr><tr>
                <td><code><span>MODEL_INVALID</span></code></td>
                <td>The given CpModelProto didn't pass the validation step. You can get a
                    detailed error by calling <code><span>ValidateCpModel(<wbr>model_proto)</span></code>.</td>
              </tr>
              
                <tr><td><code><span>UNKNOWN</span></code></td>
                <td>The status of the model is unknown because a search limit was reached.</td>
              </tr>
            </tbody></table></div>
        
            <h3 id="cp-sat_output">Results returned by the solver</h3>
            <p>Here are the 18 solutions found by the solver:</p>
            <pre><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div></div>Solution 1
        
        x =  0
        y =  1
        z =  0
        
        Solution 2
        
        x =  0
        y =  1
        z =  1
        
        Solution 3
        
        x =  0
        y =  1
        z =  2
        
        Solution 4
        
        x =  0
        y =  2
        z =  0
        
        Solution 5
        
        x =  0
        y =  2
        z =  1
        
        Solution 6
        
        x =  0
        y =  2
        z =  2
        
        Solution 7
        
        x =  1
        y =  0
        z =  0
        
        Solution 8
        
        x =  1
        y =  0
        z =  1
        
        Solution 9
        
        x =  1
        y =  0
        z =  2
        
        Solution 10
        
        x =  1
        y =  2
        z =  0
        
        Solution 11
        
        x =  1
        y =  2
        z =  1
        
        Solution 12
        
        x =  1
        y =  2
        z =  2
        
        Solution 13
        
        x =  2
        y =  0
        z =  0
        
        Solution 14
        
        x =  2
        y =  0
        z =  1
        
        Solution 15
        
        x =  2
        y =  0
        z =  2
        
        Solution 16
        
        x =  2
        y =  1
        z =  0
        
        Solution 17
        
        x =  2
        y =  1
        z =  1
        
        Solution 18
        
        x =  2
        y =  1
        z =  2
        
        Number of solutions: 18</pre>
        
            <h3 id="cp-sat_program">Complete code</h3>
            <p>Here is the complete code for the example using the CP-SAT solver.</p>
        
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> print_function<br></span><span class="kwd">import</span><span class="pln"> collections<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">sat</span><span class="pun">.</span><span class="pln">python </span><span class="kwd">import</span><span class="pln"> cp_model<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the model and solver.</span><span class="pln"><br>&nbsp; model </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="typ">CpModel</span><span class="pun">()</span><span class="pln"><br>&nbsp; solver </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="typ">CpSolver</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the variables.</span><span class="pln"><br>&nbsp; num_vals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"><br>&nbsp; x </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">)</span><span class="pln"><br>&nbsp; y </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">)</span><span class="pln"><br>&nbsp; z </span><span class="pun">=</span><span class="pln"> model</span><span class="pun">.</span><span class="typ">NewIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the constraints.</span><span class="pln"><br>&nbsp; model</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">x </span><span class="pun">!=</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Call the solver.</span><span class="pln"><br>&nbsp; solution_printer </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SolutionPrinter</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">])</span><span class="pln"><br>&nbsp; status </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">SearchForAllSolutions</span><span class="pun">(</span><span class="pln">model</span><span class="pun">,</span><span class="pln"> solution_printer</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'\nNumber of solutions found: %i'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> solution_printer</span><span class="pun">.</span><span class="typ">SolutionCount</span><span class="pun">())</span><span class="pln"><br><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SolutionPrinter</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">.</span><span class="typ">CpSolverSolutionCallback</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Print intermediate solutions."""</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> __init__</span><span class="pun">(</span><span class="pln">self</span><span class="pun">,</span><span class="pln"> variables</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__variables </span><span class="pun">=</span><span class="pln"> variables<br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__solution_count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> </span><span class="typ">NewSolution</span><span class="pun">(</span><span class="pln">self</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; self</span><span class="pun">.</span><span class="pln">__solution_count </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> v </span><span class="kwd">in</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">__variables</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'%s = %i'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="pun">(</span><span class="pln">v</span><span class="pun">,</span><span class="pln"> self</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)),</span><span class="pln"> end </span><span class="pun">=</span><span class="pln"> </span><span class="str">' '</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">()</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> </span><span class="typ">SolutionCount</span><span class="pun">(</span><span class="pln">self</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">__solution_count<br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln"><br>&nbsp; main</span><span class="pun">()</span></pre>
        
          <h2 id="original_cp_example"><a href="#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="Back to top" aria-label="Back to top" data-title="Back to top"></a>Original CP solver</h2>
          <p>Next, we describe the original CP solver, in case you need to modify existing
          code that uses it.</p>
            <aside class="note"><b>Note:</b> We recommend using the <a href="#cp-sat_example">CP-SAT solver</a>
            over the original CP solver.</aside>
        
             <p>The following sections describe a Python program that finds all
            solutions to the <a href="#cp-sat_example">simple example</a> described above,
            this time using the original CP solver.</p>
        
            <h3 id="declare">Declare the solver</h3>
            <p>The following code declares the solver.</p>
        
           <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; solver </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">Solver</span><span class="pun">(</span><span class="str">"simple_example"</span><span class="pun">)</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="com">#include</span><span class="pln"> </span><span class="str">"ortools/constraint_solver/constraint_solveri.h"</span><span class="pln"><br><br></span><span class="kwd">namespace</span><span class="pln"> operations_research </span><span class="pun">{</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">CPSimple</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// Instantiate the solver.</span><span class="pln"><br>&nbsp; </span><span class="typ">Solver</span><span class="pln"> solver</span><span class="pun">(</span><span class="str">"CPSimple"</span><span class="pun">);</span></pre>
            </article></section>
            <p><code>pywrapcp</code> is a Python wrapper for the underlying C++ solver.</p>
        
            <h3 id="variables">Create the variables</h3>
            <p>The following code creates the variables for the problem.</p>
        
            <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; num_vals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"><br>&nbsp; x </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">)</span><span class="pln"><br>&nbsp; y </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">)</span><span class="pln"><br>&nbsp; z </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">)</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; </span><span class="kwd">const</span><span class="pln"> int64 numVals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Define decision variables.</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> z </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Group variables into vectors.</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> allvars</span><span class="pun">;</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> xyvars</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"><br>&nbsp; xyvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br>&nbsp; xyvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">z</span><span class="pun">);</span></pre>
            </article></section>
        
            <p>The solver creates three variables, x, y, and z, each of which can take on the values
            0, 1, or 2.</p>
        
            <h3 id="constraints">Create the constraint</h3>
            <p>The following code creates the constraint <i>x</i>≠<i>y</i>.</p>
        
            <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">x </span><span class="pun">!=</span><span class="pln"> y</span><span class="pun">)</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeAllDifferent</span><span class="pun">(</span><span class="pln">xyvars</span><span class="pun">));</span></pre>
            </article></section>
        
            <h3 id="solution_printer">Create the solution printer</h3>
            <p>The solver displays the results using a <em>solution printer</em>.
            The following code creates the solution printers.</p>
        
            <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="kwd">def</span><span class="pln"> print_solution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">):</span><span class="pln"><br>&nbsp; count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">():</span><span class="pln"><br>&nbsp; &nbsp; count </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"x ="</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"y ="</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"z ="</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"\nNumber of solutions found:"</span><span class="pun">,</span><span class="pln"> count</span><span class="pun">)</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">PrintSolution</span><span class="pun">(</span><span class="typ">Solver</span><span class="pln"> solver</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; count</span><span class="pun">++;</span><span class="pln"><br>&nbsp; &nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Solution "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> count </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">": &nbsp;x="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> x</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"y="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> y</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"z="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> z</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Number of solutions: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> count</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span></pre>
            </article></section>
        
            <p>The solution printer for the original CP solver is a Python function that
              displays all solutions after the search has finished. (Note that this works differently
              than the solution printer for the CP-SAT solver.)</p>
        
            <h3 id="solve">Call the solver</h3>
            <p>The following code calls the solver.</p>
        
            <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">Phase</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">],</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">)</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Solve</span><span class="pun">(</span><span class="pln">db</span><span class="pun">)</span><span class="pln"><br>&nbsp; print_solution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">)</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="pln">&nbsp; </span><span class="typ">DecisionBuilder</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pun">(</span><span class="pln">allvars</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Solve</span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">PrintSolution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">);</span></pre>
            </article></section>
        
            <p>The <em>decision builder</em> is the main input to the original CP
            solver. It contains the following:
              </p><ul>
                <li><code>vars</code> — An array containing the variables for the problem.</li>
                <li>A rule for choosing the next variable to assign a value to.</li>
                <li>A rule for choosing the next value to assign to that variable.</li>
              </ul>
              See <a href="#db">Decision builder</a> for details.
          
        
            <h3 id="output">Results returned by the solver</h3>
            <p>Here are the 18 solutions found by the solver:</p>
            <pre><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div></div>Solution 1
        
        x =  0
        y =  1
        z =  0
        
        Solution 2
        
        x =  0
        y =  1
        z =  1
        
        Solution 3
        
        x =  0
        y =  1
        z =  2
        
        Solution 4
        
        x =  0
        y =  2
        z =  0
        
        Solution 5
        
        x =  0
        y =  2
        z =  1
        
        Solution 6
        
        x =  0
        y =  2
        z =  2
        
        Solution 7
        
        x =  1
        y =  0
        z =  0
        
        Solution 8
        
        x =  1
        y =  0
        z =  1
        
        Solution 9
        
        x =  1
        y =  0
        z =  2
        
        Solution 10
        
        x =  1
        y =  2
        z =  0
        
        Solution 11
        
        x =  1
        y =  2
        z =  1
        
        Solution 12
        
        x =  1
        y =  2
        z =  2
        
        Solution 13
        
        x =  2
        y =  0
        z =  0
        
        Solution 14
        
        x =  2
        y =  0
        z =  1
        
        Solution 15
        
        x =  2
        y =  0
        z =  2
        
        Solution 16
        
        x =  2
        y =  1
        z =  0
        
        Solution 17
        
        x =  2
        y =  1
        z =  1
        
        Solution 18
        
        x =  2
        y =  1
        z =  2
        
        Number of solutions: 18</pre>
        
            <h3 id="program">Complete code</h3>
            <p>Here is the complete code for the example using the original CP-SAT.</p>
            <section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header class="kd-tabbutton selected" kd-data-id=":Python" aria-label="Python, selected" role="button" data-ds-scope="code">Python</header><header class="kd-tabbutton" kd-data-id=":C++" aria-label="C++" role="button" data-ds-scope="code">C++</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">More</a></div><article class="selected">
            
            <pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> print_function<br></span><span class="kwd">import</span><span class="pln"> sys<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; solver </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">Solver</span><span class="pun">(</span><span class="str">"simple_example"</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the variables.</span><span class="pln"><br>&nbsp; num_vals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"><br>&nbsp; x </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">)</span><span class="pln"><br>&nbsp; y </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">)</span><span class="pln"><br>&nbsp; z </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> num_vals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">x </span><span class="pun">!=</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Call the solver.</span><span class="pln"><br>&nbsp; db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">Phase</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">],</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">)</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Solve</span><span class="pun">(</span><span class="pln">db</span><span class="pun">)</span><span class="pln"><br>&nbsp; print_solution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> print_solution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">):</span><span class="pln"><br>&nbsp; count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">():</span><span class="pln"><br>&nbsp; &nbsp; count </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"x ="</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"y ="</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"> </span><span class="str">"z ="</span><span class="pun">,</span><span class="pln"> z</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"\nNumber of solutions found:"</span><span class="pun">,</span><span class="pln"> count</span><span class="pun">)</span><span class="pln"><br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">"__main__"</span><span class="pun">:</span><span class="pln"><br>&nbsp; main</span><span class="pun">()</span></pre>
            </article><article>
            
            <pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="Dark code theme" aria-label="Dark code theme" data-title="Dark code theme"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="Click to copy" aria-label="Click to copy" data-title="Click to copy"></div></div><span class="com">#include</span><span class="pln"> </span><span class="str">"ortools/constraint_solver/constraint_solveri.h"</span><span class="pln"><br><br></span><span class="kwd">namespace</span><span class="pln"> operations_research </span><span class="pun">{</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">CPSimple</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// Instantiate the solver.</span><span class="pln"><br>&nbsp; </span><span class="typ">Solver</span><span class="pln"> solver</span><span class="pun">(</span><span class="str">"CPSimple"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> int64 numVals </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Define decision variables.</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"y"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> z </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> numVals </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"z"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Group variables into vectors.</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> allvars</span><span class="pun">;</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> xyvars</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"><br>&nbsp; xyvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br>&nbsp; xyvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; allvars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">z</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Define constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeAllDifferent</span><span class="pun">(</span><span class="pln">xyvars</span><span class="pun">));</span><span class="pln"><br>&nbsp; </span><span class="com">// Create decision builder to search for solutions.</span><span class="pln"><br>&nbsp; </span><span class="typ">DecisionBuilder</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pun">(</span><span class="pln">allvars</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Solve</span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">PrintSolution</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">PrintSolution</span><span class="pun">(</span><span class="typ">Solver</span><span class="pln"> solver</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; count</span><span class="pun">++;</span><span class="pln"><br>&nbsp; &nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Solution "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> count </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">": &nbsp;x="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> x</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"y="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> y</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"z="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> z</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Number of solutions: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> count</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"> &nbsp; </span><span class="com">// namespace operations_research</span><span class="pln"><br><br></span><span class="com">// ----- MAIN -----</span><span class="pln"><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> argc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">**</span><span class="pln">argv</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; operations_research</span><span class="pun">::</span><span class="typ">CPSimple</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span></pre>
            </article></section>
        
            <h3 id="db">Decision builder</h3>
            <p>The main input to the original CP solver is the <em>decision builder</em>, which contains the
            variables for the problem and sets options for the solver.</p><p>
            </p><p>The <a href="#solve">code example</a> above
            creates a decision builder using the <code>Phase</code> method
            (corresponding to the C++ method
            <a href="https://developers.google.com/optimization/reference/constraint_solver/constraint_solver/Solver/index.html#MakePhase">
            <code>MakePhase</code></a>).
            </p><p>The term "Phase" refers to a phase of the search. In this simple example, there is just one
            phase, but for more complex problems, the decision builder can have more than one phase,
            so that the solver can employ different search strategies from one phase to the next.</p>
            <p>The <code>Phase</code> method has three input parameters:</p>
            <ul>
              <li><code>vars</code> — An array containing the variables for the problem, which in
                this case is <code>[x, y, z]</code>.</li>
              <li><code>IntVarStrategy</code> — The rule for choosing the next unbound variable
                to assign a value. Here, the code uses the default <code>CHOOSE_FIRST_UNBOUND</code>,
                which means that at each step, the solver selects the first unbound variable
                in the order they occur in the variable array passed to the <code>Phase</code> method.
              </li>
              <li><code>IntValueStrategy</code> — The rule for choosing the next value to assign to
                a variable.
                Here the code uses the default <code>ASSIGN_MIN_VALUE</code>,
                which selects the smallest value that
                hasn't already been tried for the variable. This assigns values in increasing order.
                Another option is <code>ASSIGN_MAX_VALUE</code>, in which case the solver would
                assign values in decreasing order.</li>
            </ul>
        
          
          </div>
          
        
          
                
          
        
        
        
        
        
        
        
                
        <div class="devsite-content-footer nocontent">
          
          
            <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.com/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
          
        
          
            
            <p class="devsite-content-footer-date" itemprop="datePublished" content="2018-07-31T14:39:20.827820">
              
              Last updated July 31, 2018.
            </p>
          
        
        </div>
        
                </article>

</body>
</html>